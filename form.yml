---
form:
  - cluster
  - bc_account
  - jupyterlab_switch
  - bc_num_hours
  - node_type
  - cuda_version
  - num_cores
  - version
  - bc_email_on_started
attributes:
  cluster:
    widget: "select"
    options:
      - "wendian"
      - "mio"
  jupyterlab_switch:
    widget: "check_box"
    label: "Use JupyterLab instead of Jupyter Notebook?"
    help: |
      JupyterLab is the next generation of Jupyter, and is completely compatible with existing Jupyter Notebooks.
  num_cores:
    widget: "number_field"
    label: "Number of cores"
    value: 1
    help: |
      Number of cores on node type (5 GB per core unless requesting whole
      node). Leave blank if requesting full node.
    min: 1
    max: 36
    step: 1
  bc_account:
    label: "Project"
    help: "You can leave this blank if **not** in multiple projects."
  cuda_version:
    widget: "select"
    label: "CUDA Version"
    help: |
      CUDA is Nvidia's GPU-specific parallel computing framework. A GPU node
      is required to make use of this functionality.
    options:
      - [ 
          "cuda/8.0",    "cuda/8.0",
          data-option-for-wendian: false,
          data-option-for-mio: true
        ]
      - [ 
          "cuda/9.1",  "cuda/9.1",
          data-option-for-wendian: false,
          data-option-for-mio: true
        ]
      - [ 
          "cuda/10.0",  "libs/cuda/10.0",
          data-option-for-wendian: true,
          data-option-for-mio: false
        ]
      - [
          "cuda/10.1",  "libs/cuda/10.1",
          data-option-for-wendian: true,
          data-option-for-mio: false
        ]
  node_type:
    widget: select
    label: "Node type"
    help: |
      - **Standard Compute** <br>
        These are standard HPC machines. Mio has around 200 of these nodes 
        Wendian has 78 nodes with 36 cores each.
      - **GPU Enabled** <br>
        These are HPC machines with GPUs. Mio has 2 nodes 1 with [NVIDIA Tesla P100 GPU]
        and 1 with a Pascal generation card, Wendian has 5 each with 4 [NVIDIA Tesla V100 GPUs]. 

      [NVIDIA Tesla P100 GPU]: http://www.nvidia.com/object/tesla-p100.html
      [NVIDIA Tesla V100 GPUs]: https://www.nvidia.com/en-us/data-center/v100/
    options:
      - [
          "compute",     "compute",
          data-min-ppn-wendian: 1,
          data-max-ppn-wendian: 36,
          data-min-ppn-mio: 1,
          data-max-ppn-mio: 28,
          data-option-for-wendian: true,
          data-option-for-mio: true
        ]
      - [
          "gpu",     "gpu",
          data-min-ppn-wendian: 1,
          data-max-ppn-wendian: 24,
          data-min-ppn-mio: 1,
          data-max-ppn-mio: 32,
          data-option-for-wendian: true,
          data-option-for-mio: true
        ]
  version:
    widget: "select"
    label: "JupyterLab Version"
    options:
      - [ "2.1",  "app_jupyter/2.1.4" ]
      - [ "1.2",  "app_jupyter/1.2.16" ]
      - [ "0.35", "app_jupyter/0.35.6" ]
